@use './variables.scss' as *;

// ============================================
// 全局样式重置
// ============================================

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 14px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: $font-family;
  font-size: $font-size-base;
  color: $text-primary;
  background-color: $bg-page;
}

a {
  color: $primary;
  text-decoration: none;
  transition: color 0.2s;

  &:hover {
    color: $primary-dark;
  }
}

ul, ol {
  list-style: none;
}

img {
  max-width: 100%;
  height: auto;
  vertical-align: middle;
}

button {
  cursor: pointer;
  border: none;
  background: none;
  font-family: inherit;
}

input, textarea, select {
  font-family: inherit;
  font-size: inherit;
}

// ============================================
// 滚动条样式
// ============================================

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: $gray-100;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: $gray-300;
  border-radius: 4px;

  &:hover {
    background: $gray-400;
  }
}

// ============================================
// Element Plus 主题覆盖
// ============================================

:root {
  // 主色
  --el-color-primary: #{$primary};
  --el-color-primary-light-3: #{$primary-300};
  --el-color-primary-light-5: #{$primary-200};
  --el-color-primary-light-7: #{$primary-100};
  --el-color-primary-light-9: #{$primary-50};
  --el-color-primary-dark-2: #{$primary-600};

  // 语义色
  --el-color-success: #{$success};
  --el-color-warning: #{$warning};
  --el-color-danger: #{$error};
  --el-color-info: #{$info};

  // 文字色
  --el-text-color-primary: #{$text-primary};
  --el-text-color-regular: #{$text-secondary};
  --el-text-color-secondary: #{$text-muted};
  --el-text-color-placeholder: #{$text-disabled};

  // 边框色
  --el-border-color: #{$border-color};
  --el-border-color-light: #{$border-light};

  // 背景色
  --el-bg-color: #{$bg-card};
  --el-bg-color-page: #{$bg-page};

  // 圆角
  --el-border-radius-base: #{$radius-sm};
  --el-border-radius-small: #{$radius-xs};
  --el-border-radius-round: #{$radius-full};

  // 字体
  --el-font-family: #{$font-family};
}

// 卡片样式增强
.el-card {
  border: none;
  border-radius: $radius-md;
  box-shadow: $shadow-card;
  transition: $transition-normal;

  &:hover {
    box-shadow: $shadow-card-hover;
  }
}

// 按钮样式增强
.el-button {
  border-radius: $radius-sm;
  font-weight: $font-weight-medium;
  transition: $transition-fast;

  &--primary {
    background: $gradient-green;
    border: none;

    &:hover {
      opacity: 0.9;
    }
  }
}

// 输入框样式增强
.el-input__wrapper {
  border-radius: $radius-sm;
  transition: $transition-fast;

  &:focus-within {
    box-shadow: 0 0 0 2px rgba($primary, 0.2);
  }
}

// 表格样式增强
.el-table {
  border-radius: $radius-md;
  overflow: hidden;

  th.el-table__cell {
    background-color: $gray-50;
    font-weight: $font-weight-semibold;
  }
}

// ============================================
// 工具类
// ============================================

// Flex 布局
.flex {
  display: flex;
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.flex-col {
  display: flex;
  flex-direction: column;
}

.flex-1 {
  flex: 1;
}

// 文本
.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

.text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.text-primary {
  color: $primary;
}

.text-muted {
  color: $text-muted;
}

// 间距
.mt-1 { margin-top: $spacing-1; }
.mt-2 { margin-top: $spacing-2; }
.mt-3 { margin-top: $spacing-3; }
.mt-4 { margin-top: $spacing-4; }
.mt-6 { margin-top: $spacing-6; }

.mb-1 { margin-bottom: $spacing-1; }
.mb-2 { margin-bottom: $spacing-2; }
.mb-3 { margin-bottom: $spacing-3; }
.mb-4 { margin-bottom: $spacing-4; }
.mb-6 { margin-bottom: $spacing-6; }

.p-2 { padding: $spacing-2; }
.p-3 { padding: $spacing-3; }
.p-4 { padding: $spacing-4; }
.p-6 { padding: $spacing-6; }

// ============================================
// NProgress 进度条
// ============================================

#nprogress {
  .bar {
    background: $primary !important;
    height: 3px !important;
  }

  .peg {
    box-shadow: 0 0 10px $primary, 0 0 5px $primary !important;
  }
}

// ============================================
// 动画
// ============================================

// 页面过渡
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

// 滑入过渡
.slide-fade-enter-active {
  transition: all 0.3s ease-out;
}

.slide-fade-leave-active {
  transition: all 0.2s ease-in;
}

.slide-fade-enter-from,
.slide-fade-leave-to {
  transform: translateX(20px);
  opacity: 0;
}
