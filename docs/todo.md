# 📋 开发任务清单

## 项目进度概览

| 阶段 | 任务数 | 完成 | 进度 |
|-----|-------|-----|------|
| 第一阶段：项目初始化 | 14 | 14 | ✅ 100% |
| 第二阶段：认证模块 | 10 | 10 | ✅ 100% |
| 第三阶段：自习室模块 | 14 | 14 | ✅ 100% |
| 第四阶段：预约模块 | 16 | 16 | ✅ 100% |
| 第五阶段：信用积分模块 | 12 | 12 | ✅ 100% |
| 第六阶段：打卡与目标 | 14 | 14 | ✅ 100% |
| 第七阶段：成就系统 | 12 | 12 | ✅ 100% |
| 第八阶段：社交功能 | 16 | 16 | ✅ 100% |
| 第九阶段：积分商城与排行 | 14 | 14 | ✅ 100% |
| 第十阶段：优化完善 | 12 | 12 | ✅ 100% |
| **总计** | **134** | **134** | **100%** |

---

## 第一阶段：项目初始化（第1周）

### 后端初始化

- [x] **BE-001** 创建Spring Boot项目 ✅
  - Spring Boot 3.2 + Java 21
  - 配置pom.xml依赖
  - 标准项目结构创建

- [x] **BE-002** 配置数据库连接 ✅
  - MySQL 8.0配置
  - 多环境配置(dev/prod)
  - 连接池配置(HikariCP)

- [x] **BE-003** 集成MyBatis Plus ✅
  - 配置分页插件
  - 配置自动填充
  - 逻辑删除配置

- [x] **BE-004** 配置Redis ✅
  - 连接配置
  - 序列化配置(Jackson)
  - 缓存管理器

- [x] **BE-005** 配置Spring Security ✅
  - 安全配置类
  - 密码加密器(BCrypt)
  - 放行路径配置

- [x] **BE-006** 实现JWT工具类 ✅
  - Token生成
  - Token验证
  - Token刷新机制

- [x] **BE-007** 统一响应格式 ✅
  - Result<T>类
  - ResultCode枚举
  - PageResult<T>类

- [x] **BE-008** 全局异常处理 ✅
  - 业务异常类定义
  - 全局异常处理器
  - 异常码统一管理

- [x] **BE-009** 配置Swagger/Knife4j ✅
  - API文档配置
  - 分组配置
  - 接口描述注解

- [x] **BE-010** 创建数据库表 ✅
  - 执行schema.sql(27张表)
  - 执行init_data.sql初始数据

### 前端初始化

- [x] **FE-001** 创建Vue 3项目 ✅
  - Vite + TypeScript
  - 目录结构规划
  - ESLint + Prettier配置

- [x] **FE-002** 集成Element Plus ✅
  - 按需导入配置
  - 主题定制(CSS变量)
  - Lucide图标库配置

- [x] **FE-003** 配置路由 ✅
  - Vue Router配置
  - 路由守卫
  - 权限路由(动态路由)

- [x] **FE-004** 封装Axios ✅
  - 请求/响应拦截
  - Token自动携带
  - 错误统一处理
  - Loading状态管理

---

## 第二阶段：认证模块（第2周）

### 后端任务

- [x] **BE-011** 创建User实体类 ✅
  - 字段映射(27个字段)
  - 数据校验注解
  - JSON序列化配置

- [x] **BE-012** 创建UserMapper ✅
  - 基础CRUD
  - 自定义查询方法
  - XML映射文件

- [x] **BE-013** 实现AuthService ✅
  - 注册逻辑(学号唯一性验证)
  - 登录逻辑(密码验证)
  - Token管理

- [x] **BE-014** 实现AuthController ✅
  - POST /auth/login
  - POST /auth/register
  - GET /auth/info
  - PUT /auth/password

- [x] **BE-015** JWT认证过滤器 ✅
  - 请求拦截
  - Token解析
  - 用户上下文设置

### 前端任务

- [x] **FE-005** 登录页面 ✅
  - 表单设计(学号+密码)
  - 表单验证
  - 记住密码
  - 登录动画

- [x] **FE-006** 注册页面 ✅
  - 表单设计(学号、姓名、密码等)
  - 学号格式验证
  - 密码强度检查

- [x] **FE-007** Token管理 ✅
  - LocalStorage存储
  - 自动刷新机制
  - 过期处理

- [x] **FE-008** 用户状态管理 ✅
  - Pinia Store定义
  - 用户信息持久化
  - 登录状态维护

- [x] **FE-009** 路由守卫完善 ✅
  - 登录验证
  - 权限验证
  - 重定向处理

---

## 第三阶段：自习室模块（第3周）

### 后端任务

- [x] **BE-016** 创建StudyRoom实体 ✅
  - 字段映射
  - 设施JSON处理
  - 关联关系

- [x] **BE-017** 创建Seat实体 ✅
  - 字段映射
  - 座位类型枚举
  - 自习室关联

- [x] **BE-018** 创建TimeSlot实体 ✅
  - 字段映射
  - 初始化数据
  - 状态管理

- [x] **BE-019** 实现RoomService ✅
  - 自习室列表(分页、筛选)
  - 自习室详情
  - 座位状态查询

- [x] **BE-020** 实现RoomController ✅
  - GET /rooms
  - GET /rooms/{id}
  - GET /rooms/{id}/seats

- [x] **BE-021** 实现AdminRoomController ✅
  - 自习室CRUD
  - 批量生成座位
  - 座位状态管理

- [x] **BE-022** 实现收藏功能 ✅
  - POST /rooms/{id}/favorite
  - DELETE /rooms/{id}/favorite
  - GET /user/favorites

### 前端任务

- [x] **FE-010** 自习室列表页 ✅
  - 卡片列表展示
  - 搜索筛选功能
  - 状态展示(开放/关闭)
  - 收藏功能

- [x] **FE-011** 自习室详情页 ✅
  - 基本信息展示
  - 设施图标展示
  - 座位预览
  - 评分展示

- [x] **FE-012** SeatMap座位图组件 ✅
  - 可视化布局(Grid)
  - 状态颜色区分
  - 交互选择(点击/悬停)
  - 座位类型图例

- [x] **FE-013** 管理端-自习室管理 ✅
  - 列表展示(表格)
  - 新增/编辑表单
  - 状态切换
  - 删除确认

- [x] **FE-014** 管理端-座位配置 ✅
  - 可视化布局配置
  - 批量生成功能
  - 单座位状态管理
  - 座位类型设置

- [x] **FE-015** 基础布局组件 ✅
  - Header组件(顶部导航)
  - Sidebar组件(侧边栏)
  - 主内容区布局
  - 响应式适配

- [x] **FE-016** RoomCard组件 ✅
  - 封面展示
  - 信息摘要
  - 状态标签
  - 操作按钮

---

## 第四阶段：预约模块（第4周）

### 后端任务

- [x] **BE-023** 创建Reservation实体
  - 字段映射
  - 状态枚举定义
  - 预约编号生成

- [x] **BE-024** 实现ReservationService
  - 创建预约
  - 检查冲突(座位+时段)
  - 状态变更

- [x] **BE-025** 预约业务校验
  - 信用分检查
  - 每日次数检查
  - 时段冲突检查
  - 黑名单检查

- [x] **BE-026** 签到功能
  - 时间校验(提前15分钟)
  - 状态更新
  - 座位状态同步

- [x] **BE-027** 签退功能
  - 时长计算
  - 积分/经验奖励
  - 状态更新

- [x] **BE-028** 暂离/返回功能
  - 暂离时间记录
  - 超时检查
  - 自动违约处理
  - 暂离次数限制

- [x] **BE-029** 取消预约功能
  - 时间校验(免费取消期)
  - 扣分判断
  - 座位释放

- [x] **BE-030** 预约定时任务
  - 超时自动取消(未签到)
  - 暂离超时处理
  - 过期预约清理

- [x] **BE-031** 实现ReservationController
  - 完整CRUD
  - 状态操作接口
  - 我的预约列表

- [x] **BE-032** 实现座位评价
  - POST /reservations/{id}/review
  - GET /seats/{id}/reviews

### 前端任务

- [x] **FE-017** 预约页面
  - 日期选择器(限制范围)
  - 时段选择(显示可用性)
  - 座位图选座
  - 确认提交

- [x] **FE-018** 我的预约列表
  - 分类Tab(进行中/历史)
  - 状态筛选
  - 操作按钮

- [x] **FE-019** ReservationCard组件
  - 信息展示(时间、座位)
  - 状态标签(颜色区分)
  - 操作按钮(签到/签退/暂离)

- [x] **FE-020** 签到签退功能
  - 操作确认弹窗
  - 状态刷新
  - 提示反馈(成功/失败)

- [x] **FE-021** 预约详情页
  - 完整信息展示
  - 操作按钮
  - 评价入口

- [x] **FE-022** 管理端-预约管理
  - 全量查看(表格)
  - 多条件搜索筛选
  - 状态统计
  - 导出功能

---

## 第五阶段：信用积分模块（第5周）

### 后端任务

- [x] **BE-033** 创建ViolationRecord实体 ✅
  - 字段映射
  - 类型枚举定义

- [x] **BE-034** 创建CreditRecord实体 ✅
  - 字段映射
  - 变动记录

- [x] **BE-035** 实现CreditService ✅
  - 积分变动(加/减)
  - 违约处理
  - 黑名单管理

- [x] **BE-036** 实现积分自动恢复 ✅
  - 月初定时任务
  - 恢复上限控制(100分)

- [x] **BE-037** 黑名单自动管理 ✅
  - 低分自动加入(<60分)
  - 到期自动解除
  - 手动管理接口

- [x] **BE-038** 申诉功能 ✅
  - 提交申诉
  - 管理员审核
  - 积分回退

### 前端任务

- [x] **FE-023** 信用积分展示 ✅
  - 积分仪表盘
  - 等级进度条
  - 状态提示

- [x] **FE-024** 积分记录页面 ✅
  - 变动列表(时间线)
  - 类型筛选
  - 趋势图表

- [x] **FE-025** 违约记录页面 ✅
  - 违约列表
  - 详情查看
  - 申诉入口

- [x] **FE-026** 管理端-违约管理 ✅
  - 违约列表
  - 处理操作
  - 申诉审核

- [x] **FE-027** 管理端-黑名单管理 ✅
  - 黑名单列表
  - 手动添加/解除
  - 历史记录

- [x] **FE-028** 管理端-积分调整 ✅
  - 用户积分查看
  - 手动调整功能
  - 调整记录

---

## 第六阶段：打卡与目标（第6周）

### 后端任务

- [x] **BE-039** 创建CheckInRecord实体 ✅
  - 字段映射
  - 唯一约束(用户+日期)

- [x] **BE-040** 实现CheckInService ✅
  - 每日打卡
  - 连续天数计算
  - 积分/经验奖励

- [x] **BE-041** 实现CheckInController ✅
  - POST /checkin
  - GET /checkin/today
  - GET /checkin/calendar
  - GET /checkin/stats

- [x] **BE-042** 创建StudyGoal实体 ✅
  - 字段映射
  - 类型枚举

- [x] **BE-043** 实现GoalService ✅
  - 目标创建
  - 进度更新(自动)
  - 目标完成检测
  - 过期处理

- [x] **BE-044** 实现GoalController ✅
  - CRUD接口
  - 进度查询

### 前端任务

- [x] **FE-029** 打卡签到页面 ✅
  - 打卡按钮(动画)
  - 连续天数展示
  - 今日状态

- [x] **FE-030** 打卡日历组件 ✅
  - 月历展示
  - 打卡标记
  - 连续打卡高亮

- [x] **FE-031** 打卡统计页面 ✅
  - 累计天数
  - 连续记录
  - 获得积分/经验

- [x] **FE-032** 学习目标列表页 ✅
  - 目标卡片列表
  - 状态分类
  - 进度展示

- [x] **FE-033** 目标详情页 ✅
  - 目标信息
  - 进度条
  - 剩余时间

- [x] **FE-034** 创建目标表单 ✅
  - 目标类型选择
  - 时长设定
  - 日期范围

- [x] **FE-035** GoalProgress组件 ✅
  - 进度条展示
  - 百分比显示
  - 状态颜色

- [x] **FE-036** 打卡提醒设置 ✅
  - 提醒开关
  - 提醒时间设置

---

## 第七阶段：成就系统（第7周）

### 后端任务

- [x] **BE-045** 创建Achievement实体 ✅
  - 字段映射
  - 稀有度枚举
  - 条件类型枚举

- [x] **BE-046** 创建UserAchievement实体 ✅
  - 字段映射
  - 进度记录

- [x] **BE-047** 实现AchievementService ✅
  - 成就列表查询
  - 进度更新
  - 成就解锁检测
  - 奖励发放

- [x] **BE-048** 成就触发器 ✅
  - 预约完成触发
  - 打卡触发
  - 好友添加触发
  - 目标完成触发

- [x] **BE-049** 实现AchievementController ✅
  - GET /achievements
  - GET /achievements/my
  - POST /achievements/{id}/claim

- [x] **BE-050** 初始化成就数据 ✅
  - 预设成就定义(24个)
  - 条件配置

### 前端任务

- [x] **FE-037** 成就中心页面 ✅
  - 成就分类Tab
  - 成就网格展示
  - 稀有度筛选

- [x] **FE-038** AchievementBadge组件 ✅
  - 徽章展示
  - 稀有度颜色
  - 解锁状态
  - 进度展示

- [x] **FE-039** 成就详情弹窗 ✅
  - 成就描述
  - 条件说明
  - 奖励展示
  - 领取按钮

- [x] **FE-040** 成就解锁通知 ✅
  - 弹窗动画
  - 奖励展示
  - 分享功能

- [x] **FE-041** 我的成就展示 ✅
  - 已获得成就
  - 进行中成就
  - 待领取奖励

- [x] **FE-042** 管理端-成就管理 ✅
  - 成就列表
  - 编辑配置
  - 状态开关

---

## 第八阶段：社交功能（第8周）

### 后端任务

- [x] **BE-051** 创建Friendship实体 ✅
  - 字段映射
  - 状态枚举

- [x] **BE-052** 实现FriendService ✅
  - 发送好友请求
  - 处理请求(接受/拒绝)
  - 好友列表
  - 删除好友

- [x] **BE-053** 实现FriendController ✅
  - POST /friends/request
  - GET /friends/requests
  - PUT /friends/requests/{id}
  - GET /friends
  - DELETE /friends/{id}

- [x] **BE-054** 创建StudyGroup实体 ✅
  - 字段映射
  - 关联成员表

- [x] **BE-055** 创建GroupMember实体 ✅
  - 字段映射
  - 角色枚举

- [x] **BE-056** 实现GroupService ✅
  - 创建小组
  - 加入申请
  - 审批处理
  - 成员管理
  - 解散小组

- [x] **BE-057** 实现GroupController ✅
  - POST /groups
  - GET /groups
  - GET /groups/my
  - GET /groups/{id}
  - POST /groups/{id}/join
  - PUT /groups/{id}/approve
  - DELETE /groups/{id}/leave

- [x] **BE-058** 实现MessageService ✅
  - 发送消息
  - 消息列表
  - 标记已读
  - 未读数量

### 前端任务

- [x] **FE-043** 好友列表页面 ✅
  - 好友卡片
  - 在线状态
  - 操作按钮

- [x] **FE-044** 添加好友页面 ✅
  - 搜索用户
  - 发送请求

- [x] **FE-045** 好友请求列表 ✅
  - 请求卡片
  - 接受/拒绝

- [x] **FE-046** 学习小组列表页 ✅
  - 公开小组浏览
  - 我的小组
  - 搜索筛选

- [x] **FE-047** 小组详情页 ✅
  - 小组信息
  - 成员列表
  - 小组数据(学习时长)

- [x] **FE-048** 创建小组表单 ✅
  - 小组信息填写
  - 设置选项

- [x] **FE-049** 消息中心页面 ✅
  - 消息列表
  - 未读标记
  - 类型分类

- [x] **FE-050** 消息通知组件 ✅
  - 未读数量徽章
  - 下拉消息预览
  - 全部已读

---

## 第九阶段：积分商城与排行（第9周）

### 后端任务

- [x] **BE-059** 创建PointProduct实体 ✅
  - 字段映射
  - 状态管理

- [x] **BE-060** 创建PointExchange实体 ✅
  - 字段映射
  - 状态枚举

- [x] **BE-061** 实现ShopService ✅
  - 商品列表
  - 商品详情
  - 积分兑换(扣积分、减库存)
  - 兑换记录

- [x] **BE-062** 实现ShopController ✅
  - GET /shop/products
  - GET /shop/products/{id}
  - POST /shop/exchange
  - GET /shop/exchanges

- [x] **BE-063** 实现RankingService ✅
  - 学习时长榜
  - 打卡天数榜
  - 积分排行榜
  - 小组排行榜

- [x] **BE-064** 实现RankingController ✅
  - GET /ranking/hours
  - GET /ranking/checkin
  - GET /ranking/points
  - GET /ranking/groups

- [x] **BE-065** 排行榜定时任务 ✅
  - 每日快照
  - 每周/月榜单

### 前端任务

- [x] **FE-051** 积分商城首页 ✅
  - 商品分类
  - 商品网格
  - 我的积分

- [x] **FE-052** 商品详情页 ✅
  - 商品信息
  - 库存展示
  - 兑换按钮

- [x] **FE-053** 兑换记录页面 ✅
  - 记录列表
  - 状态标签

- [x] **FE-054** 兑换确认弹窗 ✅
  - 商品信息
  - 积分确认
  - 兑换动画

- [x] **FE-055** 排行榜页面 ✅
  - Tab切换(时长/打卡/积分)
  - 排行列表
  - 我的排名

- [x] **FE-056** RankingList组件 ✅
  - 排名展示
  - 用户头像
  - 数值展示
  - 前三名特殊样式

- [x] **FE-057** 管理端-商城管理 ✅
  - 商品CRUD
  - 库存管理
  - 兑换审核

---

## 第十阶段：优化完善（第10周）

### 性能优化

- [x] **OPT-001** Redis缓存优化 ✅
  - 热点数据缓存(自习室列表、座位状态)
  - 缓存策略(TTL设置)
  - 缓存穿透/雪崩防护

- [x] **OPT-002** 数据库优化 ✅
  - 索引优化(慢查询分析)
  - SQL优化
  - 分页优化(游标分页)

- [x] **OPT-003** 前端性能优化 ✅
  - 组件懒加载
  - 图片懒加载/压缩
  - 打包优化(代码分割)

### 功能完善

- [x] **OPT-004** 用户体验优化 ✅
  - 骨架屏加载
  - 操作反馈动画
  - 错误提示优化

- [x] **OPT-005** 移动端适配 ✅
  - 响应式布局完善
  - 触摸交互优化
  - 移动端测试

- [x] **OPT-006** 反馈建议功能 ✅
  - 反馈表单
  - 管理端处理
  - 回复通知

### 测试部署

- [x] **OPT-007** 单元测试 ✅
  - Service层测试
  - Controller层测试
  - 覆盖率报告

- [x] **OPT-008** 集成测试 ✅
  - 接口测试(Postman)
  - 流程测试

- [x] **OPT-009** Bug修复 ✅
  - 问题收集
  - 修复验证

- [x] **OPT-010** 文档完善 ✅
  - API文档更新
  - 部署文档
  - 用户手册

- [x] **OPT-011** 部署上线 ✅
  - 服务器配置
  - Nginx配置
  - SSL证书
  - 数据库迁移

- [x] **OPT-012** 监控配置 ✅
  - 日志收集
  - 性能监控
  - 告警配置

---

## 任务状态说明

| 标记 | 状态 |
|-----|-----|
| [ ] | 待开始 |
| [~] | 进行中 |
| [x] | 已完成 |
| [-] | 已取消 |

---

## 优先级说明

| 优先级 | 说明 |
|-------|-----|
| P0 | 核心功能，必须完成 |
| P1 | 重要功能，应该完成 |
| P2 | 次要功能，可以延后 |
| P3 | 可选功能，时间允许再做 |

### 功能优先级分配

| 功能模块 | 优先级 | 说明 |
|---------|-------|-----|
| 认证模块 | P0 | 系统基础 |
| 自习室管理 | P0 | 核心业务 |
| 预约管理 | P0 | 核心业务 |
| 信用积分 | P0 | 核心规则 |
| 打卡签到 | P1 | 重要特色 |
| 学习目标 | P1 | 重要特色 |
| 成就系统 | P1 | 重要特色 |
| 好友系统 | P2 | 社交功能 |
| 学习小组 | P2 | 社交功能 |
| 积分商城 | P2 | 激励机制 |
| 排行榜 | P2 | 数据展示 |
| 反馈建议 | P3 | 辅助功能 |

---

## 开发进度记录

### Week 1 - 项目初始化
> 开始日期：待定  
> 计划完成：14项任务

### Week 2 - 认证模块
> 开始日期：待定  
> 计划完成：10项任务

### Week 3 - 自习室模块
> 开始日期：待定  
> 计划完成：14项任务

### Week 4 - 预约模块
> 开始日期：待定  
> 计划完成：16项任务

### Week 5 - 信用积分模块
> 开始日期：待定  
> 计划完成：12项任务

### Week 6 - 打卡与目标
> 开始日期：待定  
> 计划完成：14项任务

### Week 7 - 成就系统
> 开始日期：待定  
> 计划完成：12项任务

### Week 8 - 社交功能
> 开始日期：待定  
> 计划完成：16项任务

### Week 9 - 积分商城与排行
> 开始日期：待定  
> 计划完成：14项任务

### Week 10 - 优化完善
> 开始日期：待定  
> 计划完成：12项任务

---

## 里程碑

| 里程碑 | 预计完成 | 核心交付物 |
|-------|---------|----------|
| M1 | 第2周末 | 项目框架 + 认证功能 |
| M2 | 第4周末 | 核心预约流程完整可用 |
| M3 | 第6周末 | 信用体系 + 打卡目标 |
| M4 | 第8周末 | 成就系统 + 社交功能 |
| M5 | 第10周末 | 完整系统上线 |

---

**文档版本**：v2.0  
**任务总数**：134项  
**更新日期**：2026-01-21
